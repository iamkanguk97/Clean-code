# 1장. 깨끗한 코드

> 이 내용은 로버트 C. 마틴 저자님의 클린코드 책의 내용을 가져온 것입니다.

### 코드는 무엇인가?

지금은 이제 "코드를 자동으로 생성하는 시대"가 오고 있다는 것을 많이 체감하고 있다. 그래서 프로그래머라는 직업이 필요없어 질 수 있겠다고 생각한 적이 있다. 하지만 책에서는 코드가 사라질 가망은 전혀 없다고 말한다.

`코드는 요구사항을 상세하게 표현하는 수단이기 때문`이다. 어느 수준에 이르게 되면 코드의 도움없이 요구사항을 상세하게 표현하는 것은 불가능하기 때문이다.

다시 말해, 기계가 실행할 정도로 상세하게 요구사항을 명시하는 작업이 `프로그래밍`이고 그에 대한 결과가 `코드`이다.

### 르블랑의 법칙

자신이 짠 쓰레기 코드를 보면서 나중에 손봐야겠다고 생각하고 넘어간 적이 있었다.<br/>
**나중은 돌아오지 않는다.** (나 자신을 돌아보게 되는 문구...)

### 나쁜 코드가 미치는 영향은?

- 개발 속도를 크게 떨어뜨린다. 코드를 고칠 때마다 엉뚱한 곳에서 문제가 생긴다. 시간이 지나면서 쓰레기 더미는 높아지고 높아지고 청소할 방법이 없어진다.
- 팀의 생산성이 떨어지고 결국 0에 수렴하게 된다.

**우리는 시간을 충분히 들여서 깨끗한 코드를 만드는 노력이 비용을 절감하는 방법일 뿐만 아니라 전문가로서 살아남는 길이라는 사실을 깨닫고 있어야 한다.**

### 왜 좋은 코드가 순식간에 나쁜코드로 전락할까?

일정이 촉박해서 제대로 할 시간이 없었다고 항상 한탄한다. 하지만 우리가 전문가답지 못했기 때문에 전적으로 프로그래머 잘못이다.<br>
기한을 맞추려고 노력을 하다보면 나쁜 코드를 작성할 수 밖에 없다. 결국 엉망진창인 상태로 결과물이 생기고 속도는 계속 늦어진다.

우리는 결국 좋은 코드를 작성하기 위해 노력하면서 기한을 지킬 수 있는 전문가가 되어야 한다.
`그렇기 때문에 제일 빨리 가는 방법은 언제나 코드를 최대한 깨끗하게 유지하는 습관을 들여야 한다.`

### 깨끗한 코드는 무엇일까?

- 비야네 스트롭스트룹 (C++ 창시자)

  > 우아하고 효율적인 코드를 좋아한다. 논리가 간단해야 버그가 숨어들지 못한다. 의존성을 최대한 줄여야 유지보수가 쉬워진다. **깨끗한 코드는 한 가지를 제대로 한다.**

  우아하다? => 보기에 즐거운 코드를 의미한다.<br/>
  효율적이다? => 단순히 속도만을 뜻하는 것이 아니다.

- 그래디 부치 (Object Oriented Analysis and Design with Application 저자)

  > 깨끗한 코드는 단순하고 직접적이다. **잘 쓴 문장처럼 읽힌다.** 결코 설계자의 의도를 숨기지 않는다. 오히려 명쾌한 추상화와 단순한 제어문으로 가득하다.

- 데이브 토마스 (OTI 창립자 + 이클립스 전략의 대부)

  > 깨끗한 코드는 작성자가 아닌 사람도 읽기 쉽고 고치기도 쉽다. 테스트 케이스가 존재한다. 개끗한 코드에는 의미 있는 이름이 붙는다. 특정 목적을 달성하는 방법은 하나만 제공한다.

  가독성을 강조하면서 다른 사람이 고치기 쉬운 코드가 깨끗한 코드라고 말하고 있다. (개인적으로 제일 와닿는 말인 것 같다)<br/>
  그리고 테스트 케이스가 없는 코드는 깨끗한 코드가 아니라고 말한다. 아무리 코드가 우아하고 가독성이 높아도 테스트 케이스가 없으면 깨끗하지 않다고 한다. **여기서 내가 테스트 코드의 중요성을 더욱 깨닫는 것 같다.**

- 마이클 페더스

  > 깨끗한 코드는 언제나 누군가 주의깊게 짰다는 느낌을 준다.

- 론 제프리스 (Extreme Programming Adventure in C# 저자)

  > 중복이 없고 클래스, 메서드 및 함수 등을 최대한 줄인다. 이 작업들을 여러번 반복한다면 코드가 아이디어를 제대로 표현하지 못한다는 증거이다. 의미 있는 이름으로 설정하고 단일 기능을 수행하도록 객체와 메서드 쪼개기 등으로 표현력을 강화한다.

  **즉, 중복을 피하고 한 기능만 수행한다. 그리고 제대로 표현하고 작게 추상화하라는 뜻이다.**

- 워드 커닝햄 (위키 창시자)

  > 짐작했던 기능을 각 루틴이 그대로 수행하는 코드가 깨끗한 코드다.

  코드를 볼 때 생각나는 그 기능을 수행하는 코드가 깨끗한 코드라고 말하고 있다.

  ### 위 내용을 정리해보면?

  - 한가지를 하는 코드
  - 읽기 쉽고 고치기 쉬운 코드
  - 테스트 코드가 있는 코드

  결국 한가지를 하는 읽기 쉽고 고치기 쉬우면서 테스트가 존재하는 코드를 짜도록 노력하는 전문가가 되어야 한다고 생각하게 되었다.

  ### 보이스카우트 규칙

  > 캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라

  잘 작성한 코드가 전부는 아니다. 시간이 지나도 언제나 깨끗하게 유지할 수 있도록 보이스카우트 규칙을 생각하면서 개발하면 좋을 것 같다.

  ### 느낀점

  최근에 프로젝트를 하는 도중 이런생각이 많이 들었다. 계속해서 코드를 수정하게 되고 코드를 최대한 잘 짜려고 중복도 피하고 네이밍도 신경을 썼지만 내가 코드를 깨끗하게 잘 짜고 있나? 라는 생각이 많이 들기 시작했다.

  책에서 들어준 사례처럼 요즘 프로젝트 개발 속도가 많이 느려지고 있다고 생각이 든다. 어쩌면 내가 코드를 나쁘게 작성하고 있을 수도 있겠다는 생각이 들었고 테스트 코드 도입없이 개발을 하는 것도 영향을 준다고 생각한다.

  평소에 단순히 테스트 코드 작성해야지 뭐 해야지 하고 있었는데 내 스스로 필요성을 느끼고 테스트 코드를 작성하도록 노력할 수 있을 것 같다.
